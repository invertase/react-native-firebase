[**react-native-firebase**](../../../README.mdx)

***

[react-native-firebase](../../../modules.mdx) / database/lib/modular/query

# database/lib/modular/query

## Interfaces

### ListenOptions

Defined in: [database/lib/modular/query.d.ts:18](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L18)

#### Properties

##### onlyOnce?

> `readonly` `optional` **onlyOnce**: `boolean`

Defined in: [database/lib/modular/query.d.ts:19](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L19)

***

### QueryConstraint

Defined in: [database/lib/modular/query.d.ts:46](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L46)

A `QueryConstraint` is used to narrow the set of documents returned by a
Database query. `QueryConstraint`s are created by invoking [endAt](#endat-1),
[endBefore](#endbefore), [startAt](#startat-1), [startAfter](#startafter), [limitToFirst](#limittofirst-1), [limitToLast](#limittolast-1), [orderByChild](#orderbychild-1),
[orderByChild](#orderbychild-1), [orderByKey](#orderbykey-1) , [orderByPriority](#orderbypriority-1) ,
[orderByValue](#orderbyvalue-1)  or [equalTo](#equalto-1) and
can then be passed to [query](#query-1) to create a new query instance that
also contains this `QueryConstraint`.

#### Properties

##### \_type

> `readonly` **\_type**: [`QueryConstraintType`](#queryconstrainttype)

Defined in: [database/lib/modular/query.d.ts:48](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L48)

The type of this query constraints

#### Methods

##### \_apply()

> **\_apply**(`query`): `Query`

Defined in: [database/lib/modular/query.d.ts:50](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L50)

###### Parameters

###### query

`Query`

###### Returns

`Query`

***

### ThenableReference

Defined in: [database/lib/modular/query.d.ts:13](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L13)

A `Promise` that can also act as a `DatabaseReference` when returned by
[push](#push-1). The reference is available immediately and the `Promise` resolves
as the write to the backend completes.

#### Extends

- [`DatabaseReference`](#databasereference).`Pick`\<`Promise`\<[`DatabaseReference`](#databasereference)\>, `"then"` \| `"catch"`\>

#### Properties

##### key

> **key**: `string` \| `null`

Defined in: [database/lib/index.d.ts:175](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L175)

The last part of the Reference's path.
For example, "ada" is the key for https://<DATABASE_NAME>.firebaseio.com/users/ada.
The key of a root Reference is null.

###### Inherited from

`DatabaseReference.key`

##### parent

> **parent**: `Reference` \| `null`

Defined in: [database/lib/index.d.ts:139](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L139)

The parent location of a Reference. The parent of a root Reference is `null`.

#### Example

```js
firebase.database().ref().parent; // null
firebase.database().ref('users/dave').parent; // 'users' reference
```

###### Inherited from

`DatabaseReference.parent`

##### ref

> **ref**: `Reference`

Defined in: [database/lib/index.d.ts:445](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L445)

Returns a Reference to the Query's location.

###### Inherited from

`DatabaseReference.ref`

##### root

> **root**: `Reference`

Defined in: [database/lib/index.d.ts:151](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L151)

The root Reference of the Database.

#### Example

```js
firebase.database().ref().root; // '/' reference path
firebase.database().ref('users/ada').root; // '/' reference
```

###### Inherited from

`DatabaseReference.root`

#### Methods

##### child()

> **child**(`path`): `Reference`

Defined in: [database/lib/index.d.ts:168](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L168)

Gets a Reference for the location at the specified relative path.

The relative path can either be a simple child name (for example, "ada") or a deeper
slash-separated path (for example, "ada/name/first").

#### Example

```js
const usersRef = firebase.database().ref('users');
const adaRef = usersRef.child('ada/name/first'); // childRef path is 'users/ada/name/first'
```

###### Parameters

###### path

`string`

A relative path from this location to the desired child location.

###### Returns

`Reference`

###### Inherited from

`DatabaseReference.child`

##### endAt()

> **endAt**(`value`, `key?`): `Query`

Defined in: [database/lib/index.d.ts:470](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L470)

Creates a Query with the specified ending point.

Using `startAt()`, `endAt()`, and `equalTo()` allows you to choose arbitrary starting and
ending points for your queries.

The ending point is inclusive, so children with exactly the specified value will be included
in the query. The optional key argument can be used to further limit the range of the query.
If it is specified, then children that have exactly the specified value must also have a key
name less than or equal to the specified key.

You can read more about endAt() in [Filtering data](https://firebase.google.com/docs/database/web/lists-of-data?authuser=0#filtering_data).

#### Example

```js
const ref = firebase.database().ref('users');
const snapshot = await ref.orderByKey().endAt('Ada Lovelace').once('value');
```

###### Parameters

###### value

The value to end at. The argument type depends on which `orderBy*()` function was used in this query. Specify a value that matches the `orderBy*()` type. When used in combination with `orderByKey()`, the value must be a string.

`string` | `number` | `boolean` | `null`

###### key?

`string`

The child key to end at, among the children with the previously specified priority. This argument is only allowed if ordering by child, value, or priority.

###### Returns

`Query`

###### Inherited from

`DatabaseReference.endAt`

##### equalTo()

> **equalTo**(`value`, `key?`): `Query`

Defined in: [database/lib/index.d.ts:494](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L494)

Creates a Query with the specified ending point.

Using `startAt()`, `endAt()`, and `equalTo()` allows you to choose arbitrary starting and
ending points for your queries.

The optional key argument can be used to further limit the range of the query. If it is
specified, then children that have exactly the specified value must also have exactly the
specified key as their key name. This can be used to filter result sets with many matches for the same value.

You can read more about equalTo() in [Filtering data](https://firebase.google.com/docs/database/web/lists-of-data?authuser=0#filtering_data).

#### Example

```js
const ref = firebase.database().ref('users');
const snapshot = await ref.orderByChild('age').equalTo(30).once('value');
```

###### Parameters

###### value

The value to match for. The argument type depends on which `orderBy*()` function was used in this query. Specify a value that matches the `orderBy*()` type. When used in combination with `orderByKey()`, the value must be a string.

`string` | `number` | `boolean` | `null`

###### key?

`string`

The child key to start at, among the children with the previously specified priority. This argument is only allowed if ordering by child, value, or priority.

###### Returns

`Query`

###### Inherited from

`DatabaseReference.equalTo`

##### isEqual()

> **isEqual**(`other`): `boolean`

Defined in: [database/lib/index.d.ts:522](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L522)

Returns whether or not the current and provided queries represent the same location, have the same query parameters.

Two Reference objects are equivalent if they represent the same location and are from the same instance of
app.  Equivalent queries share the same sort order, limits, and starting and ending points.

#### Example

```js
const ref1 = firebase.database().ref('users').orderByKey().endAt('Ada Lovelace');
const ref2 = firebase.database().ref('users').orderByKey();

console.log(ref1.isEqual(ref2)); // false
```

#### Example

```js
const ref1 = firebase.database().ref('users').orderByKey().endAt('Ada Lovelace');
const ref2 = firebase.database().ref('users').endAt('Ada Lovelace').orderByKey();

console.log(ref1.isEqual(ref2)); // true
```

###### Parameters

###### other

`Query`

The query to compare against.

###### Returns

`boolean`

###### Inherited from

`DatabaseReference.isEqual`

##### keepSynced()

> **keepSynced**(`bool`): `Promise`\<`void`\>

Defined in: [database/lib/index.d.ts:823](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L823)

By calling `keepSynced(true)` on a location, the data for that location will automatically
be downloaded and kept in sync, even when no listeners are attached for that location.

#### Example

```js
const ref = firebase.database().ref('users');
await ref.keepSynced(true);
```

###### Parameters

###### bool

`boolean`

Pass `true` to keep this location synchronized, pass `false` to stop synchronization.

###### Returns

`Promise`\<`void`\>

###### Inherited from

`DatabaseReference.keepSynced`

##### limitToFirst()

> **limitToFirst**(`limit`): `Query`

Defined in: [database/lib/index.d.ts:545](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L545)

Generates a new `Query` limited to the first specific number of children.

The `limitToFirst()` method is used to set a maximum number of children to be synced for a
given callback. If we set a limit of 100, we will initially only receive up to 100 `child_added`
events. If we have fewer than 100 messages stored in our Database, a child_added event will
fire for each message. However, if we have over 100 messages, we will only receive a `child_added`
event for the first 100 ordered messages. As items change, we will receive `child_removed` events
for each item that drops out of the active list so that the total number stays at 100.

You can read more about `limitToFirst()` in [Filtering data](https://firebase.google.com/docs/database/web/lists-of-data?authuser=0#filtering_data).

#### Example

```js
const snapshot = firebase.database().ref('users').orderByKey().limitToFirst(2).once('value');
console.log(snapshot.numChildren()); // 2
```

###### Parameters

###### limit

`number`

The maximum number of nodes to include in this query.

###### Returns

`Query`

###### Inherited from

`DatabaseReference.limitToFirst`

##### limitToLast()

> **limitToLast**(`limit`): `Query`

Defined in: [database/lib/index.d.ts:568](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L568)

Generates a new `Query` object limited to the last specific number of children.

The `limitToLast()` method is used to set a maximum number of children to be synced for a given
callback. If we set a limit of 100, we will initially only receive up to 100 `child_added` events.
If we have fewer than 100 messages stored in our Database, a `child_added` event will fire for
each message. However, if we have over 100 messages, we will only receive a `child_added` event
for the last 100 ordered messages. As items change, we will receive `child_removed` events for
each item that drops out of the active list so that the total number stays at 100.

You can read more about `limitToLast()` in [Filtering data](https://firebase.google.com/docs/database/web/lists-of-data?authuser=0#filtering_data).

#### Example

```js
const snapshot = firebase.database().ref('users').orderByKey().limitToLast(2).once('value');
console.log(snapshot.numChildren()); // 2
```

###### Parameters

###### limit

`number`

The maximum number of nodes to include in this query.

###### Returns

`Query`

###### Inherited from

`DatabaseReference.limitToLast`

##### off()

> **off**(`eventType?`, `callback?`, `context?`): `void`

Defined in: [database/lib/index.d.ts:600](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L600)

Detaches a callback previously attached with `on()`.

Detach a callback previously attached with `on()`. Note that if `on()` was called multiple times
with the same eventType and callback, the callback will be called multiple times for each
event, and `off()` must be called multiple times to remove the callback. Calling `off()` on a parent
listener will not automatically remove listeners registered on child nodes, `off()` must also be
called on any child listeners to remove the callback.

If a callback is not specified, all callbacks for the specified eventType will be removed.
Similarly, if no eventType is specified, all callbacks for the `Reference` will be removed.

#### Example

```js
const ref = firebase.database().ref('settings');
const onValueChange = function(snapshot) { ... };
const onChildAdded = function(snapshot) { ... };

ref.on('value', onValueChange);
ref.child('meta-data').on('child_added', onChildAdded);
// Sometime later...
ref.off('value', onValueChange);
ref.child('meta-data').off('child_added', onChildAdded);
```

###### Parameters

###### eventType?

`EventType`

One of the following strings: "value", "child_added", "child_changed", "child_removed", or "child_moved." If omitted, all callbacks for the Reference will be removed.

###### callback?

(`a`, `b?`) => `void`

The callback function that was passed to `on()` or `undefined` to remove all callbacks.

###### context?

`Record`\<`string`, `any`\>

The context that was passed to `on()`.

###### Returns

`void`

###### Inherited from

`DatabaseReference.off`

##### on()

> **on**(`eventType`, `callback`, `cancelCallbackOrContext?`, `context?`): (`a`, `b?`) => `void`

Defined in: [database/lib/index.d.ts:658](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L658)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback will be triggered for the
initial data and again whenever the data changes. Use `off()` to stop receiving updates..

**value** event

This event will trigger once with the initial data stored at this location, and then trigger
again each time the data changes. The `DataSnapshot` passed to the callback will be for the location
at which on() was called. It won't trigger until the entire contents has been synchronized.
If the location has no data, it will be triggered with an empty `DataSnapshot`
(`val()` will return `null`).

**child_added** event

This event will be triggered once for each initial child at this location, and it will be
triggered again every time a new child is added. The `DataSnapshot` passed into the callback
will reflect the data for the relevant child. For ordering purposes, it is passed a second argument
which is a string containing the key of the previous sibling child by sort order, or `null` if
it is the first child.

**child_removed** event

This event will be triggered once every time a child is removed. The `DataSnapshot` passed into
the callback will be the old data for the child that was removed. A child will get removed when either:
- a client explicitly calls `remove()` on that child or one of its ancestors
- a client calls `set(null)` on that child or one of its ancestors
- that child has all of its children removed
- there is a query in effect which now filters out the child (because it's sort order changed or the max limit was hit)

**child_changed** event

This event will be triggered when the data stored in a child (or any of its descendants) changes.
Note that a single `child_changed` event may represent multiple changes to the child. The
`DataSnapshot` passed to the callback will contain the new child contents. For ordering purposes,
the callback is also passed a second argument which is a string containing the key of the previous
sibling child by sort order, or `null` if it is the first child.

**child_moved** event

This event will be triggered when a child's sort order changes such that its position relative
to its siblings changes. The `DataSnapshot` passed to the callback will be for the data of the child
that has moved. It is also passed a second argument which is a string containing the key of the
previous sibling child by sort order, or `null` if it is the first child.

###### Parameters

###### eventType

`EventType`

One of the following strings: "value", "child_added", "child_changed", "child_removed", or "child_moved."

###### callback

(`data`, `previousChildKey?`) => `void`

A callback that fires when the specified event occurs. The callback will be passed a DataSnapshot. For ordering purposes, "child_added", "child_changed", and "child_moved" will also be passed a string containing the key of the previous child, by sort order, or `null` if it is the first child.

###### cancelCallbackOrContext?

An optional callback that will be notified if your event subscription is ever canceled because your client does not have permission to read this data (or it had permission but has now lost it). This callback will be passed an `Error` object indicating why the failure occurred.

`Record`\<`string`, `any`\> | (`a`) => `void` | `null`

###### context?

If provided, this object will be used as `this` when calling your callback(s).

`Record`\<`string`, `any`\> | `null`

###### Returns

> (`a`, `b?`): `void`

###### Parameters

###### a

`DataSnapshot` | `null`

###### b?

`string` | `null`

###### Returns

`void`

###### Inherited from

`DatabaseReference.on`

##### once()

> **once**(`eventType`, `successCallback?`, `failureCallbackContext?`): `Promise`\<`DataSnapshot`\>

Defined in: [database/lib/index.d.ts:686](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L686)

Listens for exactly one event of the specified event type, and then stops listening.

This is equivalent to calling `on()`, and then calling `off()` inside the callback function. See `on()` for details on the event types.

#### Example

```js
// Promise
const snapshot = await firebase.database().ref('users').once('value');
// Callback
firebase.database().ref('users).once('value', (snapshot) => {
  console.log(snapshot.val());
});
```

###### Parameters

###### eventType

`EventType`

One of the following strings: "value", "child_added", "child_changed", "child_removed", or "child_moved."

###### successCallback?

(`a`, `b?`) => `any`

A callback that fires when the specified event occurs. The callback will be passed a DataSnapshot. For ordering purposes, "child_added", "child_changed", and "child_moved" will also be passed a string containing the key of the previous child by sort order, or `null` if it is the first child.

###### failureCallbackContext?

An optional callback that will be notified if your client does not have permission to read the data. This callback will be passed an Error object indicating why the failure occurred.

`Record`\<`string`, `any`\> | (`a`) => `void` | `null`

###### Returns

`Promise`\<`DataSnapshot`\>

###### Inherited from

`DatabaseReference.once`

##### onDisconnect()

> **onDisconnect**(): `OnDisconnect`

Defined in: [database/lib/index.d.ts:426](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L426)

Returns an database.OnDisconnect instance.

#### Example

```js
const userDisconnectRef = firebase.database().ref('users/ada/isOnline').onDisconnect();
// When going offline
await userDisconnectRef.update(false);
```

###### Returns

`OnDisconnect`

###### Inherited from

`DatabaseReference.onDisconnect`

##### orderByChild()

> **orderByChild**(`path`): `Query`

Defined in: [database/lib/index.d.ts:714](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L714)

Generates a new `Query` object ordered by the specified child key.

Queries can only order by one key at a time. Calling `orderByChild()` multiple times on the same query is an error.

Firebase queries allow you to order your data by any child key on the fly. However, if you know in advance what
your indexes will be, you can define them via the [.indexOn](https://firebase.google.com/docs/database/security/indexing-data?authuser=0)
rule in your Security Rules for better performance.

You can read more about orderByChild() in [Sort data](https://firebase.google.com/docs/database/web/lists-of-data?authuser=0#sort_data).

#### Example

```js
const snapshot = await firebase.database().ref('users').orderByChild('age').once('value');
snapshot.forEach((snapshot) => {
 console.log('Users age:', snapshot.val().age);
});
```

###### Parameters

###### path

`string`

The child path node to order by.

###### Returns

`Query`

###### Inherited from

`DatabaseReference.orderByChild`

##### orderByKey()

> **orderByKey**(): `Query`

Defined in: [database/lib/index.d.ts:732](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L732)

Generates a new `Query` object ordered by key.

Sorts the results of a query by their (ascending) key values.

You can read more about `orderByKey()` in [Sort data](https://firebase.google.com/docs/database/web/lists-of-data?authuser=0#sort_data).

#### Example

```js
const snapshot = await firebase.database().ref('users').orderByKey().once('value');
snapshot.forEach((snapshot) => {
 console.log('User:', snapshot.val());
});
```

###### Returns

`Query`

###### Inherited from

`DatabaseReference.orderByKey`

##### orderByPriority()

> **orderByPriority**(): `Query`

Defined in: [database/lib/index.d.ts:741](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L741)

Generates a new Query object ordered by priority.

Applications need not use priority but can order collections by ordinary properties
(see [Sort data](https://firebase.google.com/docs/database/web/lists-of-data?authuser=0#sort_data)
for alternatives to priority).

###### Returns

`Query`

###### Inherited from

`DatabaseReference.orderByPriority`

##### orderByValue()

> **orderByValue**(): `Query`

Defined in: [database/lib/index.d.ts:757](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L757)

Generates a new `Query` object ordered by value.

If the children of a query are all scalar values (string, number, or boolean), you can order
the results by their (ascending) values.

You can read more about `orderByValue()` in [Sort data](https://firebase.google.com/docs/database/web/lists-of-data?authuser=0#sort_data).

#### Example

```js
await firebase.database().ref('scores').orderByValue().once('value');
```

###### Returns

`Query`

###### Inherited from

`DatabaseReference.orderByValue`

##### push()

> **push**(`value?`, `onComplete?`): `Reference`

Defined in: [database/lib/index.d.ts:413](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L413)

Generates a new child location using a unique key and returns its `Reference`.

This is the most common pattern for adding data to a collection of items.

If you provide a value to `push()`, the value will be written to the generated location.
If you don't pass a value, nothing will be written to the Database and the child will
remain empty (but you can use the `Reference` elsewhere).

The unique key generated by push() are ordered by the current time, so the resulting list
of items will be chronologically sorted. The keys are also designed to be unguessable
(they contain 72 random bits of entropy).

#### Example

```js
const newUserRef = firebase.database().ref('users').push();
console.log('New record key:', newUserRef.key);
await newUserRef.set({
  first: 'Ada',
  last: 'Lovelace',
});
```

###### Parameters

###### value?

`any`

Optional value to be written at the generated location.

###### onComplete?

() => `void`

Callback called when write to server is complete.

###### Returns

`Reference`

###### Inherited from

`DatabaseReference.push`

##### remove()

> **remove**(`onComplete?`): `Promise`\<`void`\>

Defined in: [database/lib/index.d.ts:340](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L340)

Removes the data at this Database location.

Any data at child locations will also be deleted.

The effect of the remove will be visible immediately and the corresponding event 'value' will be triggered.
Synchronization of the remove to the Firebase servers will also be started, and the returned Promise will
resolve when complete. If provided, the onComplete callback will be called asynchronously after synchronization
has finished.

#### Example

```js
await firebase.database().ref('users/ada/name')
 .remove(() => {
   console.log('Operation Complete');
 });
```

###### Parameters

###### onComplete?

(`error`) => `void`

Callback called when write to server is complete. Contains the parameters (Error | null).

###### Returns

`Promise`\<`void`\>

###### Inherited from

`DatabaseReference.remove`

##### set()

> **set**(`value`, `onComplete?`): `Promise`\<`void`\>

Defined in: [database/lib/index.d.ts:228](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L228)

Writes data to this Database location.

This will overwrite any data at this location and all child locations.

The effect of the write will be visible immediately, and the corresponding events
("value", "child_added", etc.) will be triggered. Synchronization of the data to the
Firebase servers will also be started, and the returned Promise will resolve when
complete. If provided, the `onComplete` callback will be called asynchronously after
synchronization has finished.

Passing `null` for the new value is equivalent to calling `remove();` namely, all data at
this location and all child locations will be deleted.

`set()` will remove any priority stored at this location, so if priority is meant to be
preserved, you need to use `setWithPriority()` instead.

Note that modifying data with set() will cancel any pending transactions at that location,
so extreme care should be taken if mixing set() and transaction() to modify the same data.

A single set() will generate a single "value" event at the location where the set() was performed.

#### Example - Setting values

```js
const ref = firebase.database().ref('users');

// Set a single node value
await ref.child('ada/name/first').set('Ada');
await ref.child('ada/name/last').set('Lovelace');

// Set an object value in a single call
await ref.child('ada/name').set({
  first: 'Ada',
  last: 'Lovelace',
});
```

#### Example - On complete listener

```js
const ref = firebase.database().ref('users');

await ref.child('ada/first/name').set('Ada', (error) => {
  if (error) console.error(error);
});
```

###### Parameters

###### value

`any`

The value to be written (string, number, boolean, object, array, or null).

###### onComplete?

(`error`) => `void`

Callback called when write to server is complete. Contains the parameters (Error | null).

###### Returns

`Promise`\<`void`\>

###### Inherited from

`DatabaseReference.set`

##### setPriority()

> **setPriority**(`priority`, `onComplete?`): `Promise`\<`void`\>

Defined in: [database/lib/index.d.ts:289](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L289)

Sets a priority for the data at this Database location. Setting null removes any priority at this location.

See database.Query#orderByPriority to learn how to use priority values in your query.

#### Example

```js
await firebase.database().ref('users/ada').setPriority(1, (error) => {
  if (error) console.error(error);
});
```

###### Parameters

###### priority

The priority value.

`string` | `number` | `null`

###### onComplete?

(`error`) => `void`

Callback called when write to server is complete. Contains the parameters (Error | null).

###### Returns

`Promise`\<`void`\>

###### Inherited from

`DatabaseReference.setPriority`

##### setWithPriority()

> **setWithPriority**(`newVal`, `newPriority`, `onComplete?`): `Promise`\<`void`\>

Defined in: [database/lib/index.d.ts:313](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L313)

Writes data the Database location. Like `set()` but also specifies the priority for that data.

#### Example

```js
await firebase.database().ref('users/ada/name')
 .setWithPriority({
   first: 'Ada',
   last: 'Lovelace',
 }, 1, (error) => {
   if (error) console.error(error);
 });
```

###### Parameters

###### newVal

`any`

The new value to set.

###### newPriority

The new priority to set.

`string` | `number` | `null`

###### onComplete?

(`error`) => `void`

Callback called when write to server is complete. Contains the parameters (Error | null).

###### Returns

`Promise`\<`void`\>

###### Inherited from

`DatabaseReference.setWithPriority`

##### startAt()

> **startAt**(`value`, `key?`): `Query`

Defined in: [database/lib/index.d.ts:781](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L781)

Creates a `Query` with the specified starting point.

Using `startAt()`, `endAt()`, and `equalTo()` allows you to choose arbitrary starting and
ending points for your queries.

The starting point is inclusive, so children with exactly the specified value will be included
in the query. The optional key argument can be used to further limit the range of the query.
If it is specified, then children that have exactly the specified value must also have a key
name greater than or equal to the specified key.

You can read more about `startAt()` in [Filtering data](https://firebase.google.com/docs/database/web/lists-of-data?authuser=0#filtering_data).

#### Example

```js
await firebase.database().ref('users').orderByChild('age').startAt(21).once('value');
```

###### Parameters

###### value

The value to start at. The argument type depends on which `orderBy*()` function was used in this query. Specify a value that matches the `orderBy*()` type. When used in combination with `orderByKey()`, the value must be a string.

`string` | `number` | `boolean` | `null`

###### key?

`string`

The child key to start at. This argument is only allowed if ordering by child, value, or priority.

###### Returns

`Query`

###### Inherited from

`DatabaseReference.startAt`

##### toJSON()

> **toJSON**(): `object`

Defined in: [database/lib/index.d.ts:786](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L786)

Returns a JSON-serializable representation of this object.

###### Returns

`object`

###### Inherited from

`DatabaseReference.toJSON`

##### toString()

> **toString**(): `string`

Defined in: [database/lib/index.d.ts:808](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L808)

Gets the absolute URL for this location.

The `toString()` method returns a URL that is ready to be put into a browser, curl command, or
a `firebase.database().refFromURL()` call. Since all of those expect the URL to be url-encoded,
`toString()` returns an encoded URL.

Append '.json' to the returned URL when typed into a browser to download JSON-formatted data.
If the location is secured (that is, not publicly readable), you will get a permission-denied error.

#### Example

```js
const ref1 = firebase.database().ref();
const ref2 = firebase.database().ref('users').orderByValue();

ref1.toString(); // https://sample-app.firebaseio.com/
ref2.toString(); // https://sample-app.firebaseio.com/users
```

###### Returns

`string`

###### Inherited from

`DatabaseReference.toString`

##### transaction()

> **transaction**(`transactionUpdate`, `onComplete?`, `applyLocally?`): `Promise`\<`TransactionResult`\>

Defined in: [database/lib/index.d.ts:380](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L380)

Atomically modifies the data at this location.

Atomically modify the data at this location. Unlike a normal `set()`, which just overwrites
the data regardless of its previous value, `transaction()` is used to modify the existing
value to a new value, ensuring there are no conflicts with other clients writing to the same
location at the same time.

To accomplish this, you pass `transaction()` an update function which is used to transform the
current value into a new value. If another client writes to the location before your new
value is successfully written, your update function will be called again with the new
current value, and the write will be retried. This will happen repeatedly until your write
succeeds without conflict or you abort the transaction by not returning a value from your
update function.

Note: Modifying data with `set()` will cancel any pending transactions at that location, so
extreme care should be taken if mixing `set()` and `transaction()` to update the same data.

Note: When using transactions with Security and Firebase Rules in place, be aware that a
client needs `.read` access in addition to `.write` access in order to perform a transaction.
This is because the client-side nature of transactions requires the client to read the data
in order to transactionally update it.

#### Example

```js
const userRef = firebase.database().ref('users/ada/profileViews);

userRef.transaction((currentViews) => {
  if (currentViews === null) return 1;
  return currentViews + 1;
});
```

###### Parameters

###### transactionUpdate

(`currentData`) => `any`

A developer-supplied function which will be passed the current data stored at this location (as a JavaScript object). The function should return the new value it would like written (as a JavaScript object). If undefined is returned (i.e. you return with no result) the transaction will be aborted and the data at this location will not be modified.

###### onComplete?

(`error`, `committed`, `finalResult`) => `void`

A callback function that will be called when the transaction completes. The callback is passed three arguments: a possibly-null Error, a boolean indicating whether the transaction was committed, and a DataSnapshot indicating the final result. If the transaction failed abnormally, the first argument will be an Error object indicating the failure cause. If the transaction finished normally, but no data was committed because no data was returned from transactionUpdate, then second argument will be false. If the transaction completed and committed data to Firebase, the second argument will be true. Regardless, the third argument will be a DataSnapshot containing the resulting data in this location.

###### applyLocally?

`boolean`

By default, events are raised each time the transaction update function runs. So if it is run multiple times, you may see intermediate states. You can set this to false to suppress these intermediate states and instead wait until the transaction has completed before events are raised.

###### Returns

`Promise`\<`TransactionResult`\>

###### Inherited from

`DatabaseReference.transaction`

##### update()

> **update**(`values`, `onComplete?`): `Promise`\<`void`\>

Defined in: [database/lib/index.d.ts:268](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/index.d.ts#L268)

Writes multiple values to the Database at once.

The `values` argument contains multiple property-value pairs that will be written to the Database
together. Each child property can either be a simple property (for example, "name") or a
relative path (for example, "name/first") from the current location to the data to update.

As opposed to the `set()` method, `update()` can be use to selectively update only the referenced
properties at the current location (instead of replacing all the child properties at the
current location).

The effect of the write will be visible immediately, and the corresponding events ('value',
'child_added', etc.) will be triggered. Synchronization of the data to the Firebase servers
will also be started, and the returned Promise will resolve when complete. If provided, the
`onComplete` callback will be called asynchronously after synchronization has finished.

A single update() will generate a single "value" event at the location where the update()
was performed, regardless of how many children were modified.

Note that modifying data with update() will cancel any pending transactions at that location,
so extreme care should be taken if mixing update() and transaction() to modify the same data.

Passing `null` to `update()` will remove the data at this location.

#### Example

Modify the 'first' and 'last' properties, but leave other values unchanged at this location.

```js
await firebase.database().ref('users/ada/name').update({
  first: 'Ada',
  last: 'Lovelace',
})
```

###### Parameters

###### values

Object containing multiple values.

###### onComplete?

(`error`) => `void`

Callback called when write to server is complete. Contains the parameters (Error | null).

###### Returns

`Promise`\<`void`\>

###### Inherited from

`DatabaseReference.update`

## Type Aliases

### DatabaseReference

> **DatabaseReference** = `FirebaseDatabaseTypes.Reference`

Defined in: [database/lib/modular/query.d.ts:5](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L5)

***

### DataSnapshot

> **DataSnapshot** = `FirebaseDatabaseTypes.DataSnapshot`

Defined in: [database/lib/modular/query.d.ts:4](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L4)

***

### OnDisconnect

> **OnDisconnect** = `FirebaseDatabaseTypes.OnDisconnect`

Defined in: [database/lib/modular/query.d.ts:6](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L6)

***

### Query

> **Query** = `FirebaseDatabaseTypes.Query`

Defined in: [database/lib/modular/query.d.ts:3](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L3)

***

### QueryConstraintType

> **QueryConstraintType** = `"endAt"` \| `"endBefore"` \| `"startAt"` \| `"startAfter"` \| `"limitToFirst"` \| `"limitToLast"` \| `"orderByChild"` \| `"orderByKey"` \| `"orderByPriority"` \| `"orderByValue"` \| `"equalTo"`

Defined in: [database/lib/modular/query.d.ts:23](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L23)

Describes the different query constraints available in this SDK.

***

### Unsubscribe()

> **Unsubscribe** = () => `void`

Defined in: [database/lib/modular/query.d.ts:16](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L16)

#### Returns

`void`

## Functions

### child()

> **child**(`parent`, `path`): `Reference`

Defined in: [database/lib/modular/query.d.ts:869](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L869)

Gets a `Reference` for the location at the specified relative path.

The relative path can either be a simple child name (for example, "ada") or
a deeper slash-separated path (for example, "ada/name/first").

#### Parameters

##### parent

`Reference`

The parent location.

##### path

`string`

A relative path from this location to the desired child
  location.

#### Returns

`Reference`

The specified child location.

***

### endAt()

> **endAt**(`value`, `key?`): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:73](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L73)

Creates a `QueryConstraint` with the specified ending point.

Using `startAt()`, `startAfter()`, `endBefore()`, `endAt()` and `equalTo()`
allows you to choose arbitrary starting and ending points for your queries.

The ending point is inclusive, so children with exactly the specified value
will be included in the query. The optional key argument can be used to
further limit the range of the query. If it is specified, then children that
have exactly the specified value must also have a key name less than or equal
to the specified key.

#### Parameters

##### value

The value to end at. The argument type depends on which
`orderBy*()` function was used in this query. Specify a value that matches
the `orderBy*()` type. When used in combination with `orderByKey()`, the
value must be a string.

`string` | `number` | `boolean` | `null`

##### key?

`string`

The child key to end at, among the children with the previously
specified priority. This argument is only allowed if ordering by child,
value, or priority.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### endBefore()

> **endBefore**(`value`, `key?`): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:97](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L97)

Creates a QueryConstraint with the specified ending point (exclusive).

Using `startAt()`, `startAfter()`, `endBefore()`, `endAt()` and `equalTo()` allows you to
choose arbitrary starting and ending points for your queries.

The ending point is exclusive. If only a value is provided, children with a
value less than the specified value will be included in the query. If a key
is specified, then children must have a value less than or equal to the
specified value and a key name less than the specified key.

#### Parameters

##### value

The value to end before. The argument type depends on which
`orderBy*()` function was used in this query. Specify a value that matches
the `orderBy*()` type. When used in combination with `orderByKey()`, the
value must be a string.

`string` | `number` | `boolean` | `null`

##### key?

`string`

The child key to end before, among the children with the
previously specified priority. This argument is only allowed if ordering by
child, value, or priority.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### equalTo()

> **equalTo**(`value`, `key?`): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:121](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L121)

Creates a QueryConstraint that includes children that match the specified value.

Using `startAt()`, `startAfter()`, `endBefore()`, `endAt()` and `equalTo()` allows
you to choose arbitrary starting and ending points for your queries.

The optional key argument can be used to further limit the range of the
query. If it is specified, then children that have exactly the specified
value must also have exactly the specified key as their key name. This
can be used to filter result sets with many matches for the same value.

#### Parameters

##### value

The value to match for. The argument type depends on which
`orderBy*()` function was used in this query. Specify a value that matches
the `orderBy*()` type. When used in combination with `orderByKey()`, the
value must be a string.

`string` | `number` | `boolean` | `null`

##### key?

`string`

The child key to start at, among the children with the
previously specified priority. This argument is only allowed if ordering by
child, value, or priority.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### get()

> **get**(`query`): `Promise`\<`DataSnapshot`\>

Defined in: [database/lib/modular/query.d.ts:837](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L837)

Gets the most up-to-date result for this query.

#### Parameters

##### query

`Query`

The query to run.

#### Returns

`Promise`\<`DataSnapshot`\>

A `Promise` which resolves to the resulting DataSnapshot if a value is
available, or rejects if the client is unable to return a value (e.g., if the
server is unreachable and there is nothing cached).

***

### keepSynced()

> **keepSynced**(`ref`, `bool`): `Promise`\<`void`\>

Defined in: [database/lib/modular/query.d.ts:894](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L894)

By calling `keepSynced(true)` on a location, the data for that location will automatically
be downloaded and kept in sync, even when no listeners are attached for that location.

#### Example

```js
const dbRef = ref(getDatabase(), 'users');
await keepSynced(dbRef, true);
```

#### Parameters

##### ref

`Reference`

A location to keep synchronized.

##### bool

`boolean`

Pass `true` to keep this location synchronized, pass `false` to stop synchronization.

#### Returns

`Promise`\<`void`\>

***

### limitToFirst()

> **limitToFirst**(`limit`): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:185](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L185)

Creates a new `QueryConstraint` that if limited to the first specific number
of children.

The `limitToFirst()` method is used to set a maximum number of children to be
synced for a given callback. If we set a limit of 100, we will initially only
receive up to 100 `child_added` events. If we have fewer than 100 messages
stored in our Database, a `child_added` event will fire for each message.
However, if we have over 100 messages, we will only receive a `child_added`
event for the first 100 ordered messages. As items change, we will receive
`child_removed` events for each item that drops out of the active list so
that the total number stays at 100.

#### Parameters

##### limit

`number`

The maximum number of nodes to include in this query.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### limitToLast()

> **limitToLast**(`limit`): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:202](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L202)

Creates a new `QueryConstraint` that is limited to return only the last
specified number of children.

The `limitToLast()` method is used to set a maximum number of children to be
synced for a given callback. If we set a limit of 100, we will initially only
receive up to 100 `child_added` events. If we have fewer than 100 messages
stored in our Database, a `child_added` event will fire for each message.
However, if we have over 100 messages, we will only receive a `child_added`
event for the last 100 ordered messages. As items change, we will receive
`child_removed` events for each item that drops out of the active list so
that the total number stays at 100.

#### Parameters

##### limit

`number`

The maximum number of nodes to include in this query.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### off()

> **off**(`query`, `eventType?`, `callback?`): `void`

Defined in: [database/lib/modular/query.d.ts:852](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L852)

Detaches a callback previously attached with the corresponding on*() (onValue, onChildAdded) listener.
Note: This is not the recommended way to remove a listener. Instead, please use the returned callback function from the respective on* callbacks.
Detach a callback previously attached with on*(). Calling off() on a parent listener will not automatically remove listeners registered on child nodes, off() must also be called on any child listeners to remove the callback.
If a callback is not specified, all callbacks for the specified eventType will be removed.
Similarly, if no eventType is specified, all callbacks for the Reference will be removed.
Individual listeners can also be removed by invoking their unsubscribe callbacks.
Note: Not implemented on native

#### Parameters

##### query

`Query`

The query to run

##### eventType?

`any`

One of the following strings: "value", "child_added", "child_changed", "child_removed", or "child_moved.

##### callback?

(`snapshot`, `previousChildName?`) => `unknown`

#### Returns

`void`

***

### onChildAdded()

#### Call Signature

> **onChildAdded**(`query`, `callback`, `cancelCallback?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:374](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L374)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildAdded` event will be triggered once for each initial child at this
location, and it will be triggered again every time a new child is added. The
`DataSnapshot` passed into the callback will reflect the data for the
relevant child. For ordering purposes, it is passed a second argument which
is a string containing the key of the previous sibling child by sort order,
or `null` if it is the first child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName?`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallback?

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildAdded**(`query`, `callback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:402](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L402)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildAdded` event will be triggered once for each initial child at this
location, and it will be triggered again every time a new child is added. The
`DataSnapshot` passed into the callback will reflect the data for the
relevant child. For ordering purposes, it is passed a second argument which
is a string containing the key of the previous sibling child by sort order,
or `null` if it is the first child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildAdded**(`query`, `callback`, `cancelCallback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:435](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L435)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildAdded` event will be triggered once for each initial child at this
location, and it will be triggered again every time a new child is added. The
`DataSnapshot` passed into the callback will reflect the data for the
relevant child. For ordering purposes, it is passed a second argument which
is a string containing the key of the previous sibling child by sort order,
or `null` if it is the first child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallback

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildAdded**(`query`, `callback`, `cancelCallbackOrListenOptions?`, `options?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:442](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L442)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildAdded` event will be triggered once for each initial child at this
location, and it will be triggered again every time a new child is added. The
`DataSnapshot` passed into the callback will reflect the data for the
relevant child. For ordering purposes, it is passed a second argument which
is a string containing the key of the previous sibling child by sort order,
or `null` if it is the first child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallbackOrListenOptions?

[`ListenOptions`](#listenoptions) | (`error`) => `unknown`

###### options?

[`ListenOptions`](#listenoptions)

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

***

### onChildChanged()

#### Call Signature

> **onChildChanged**(`query`, `callback`, `cancelCallback?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:475](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L475)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildChanged` event will be triggered when the data stored in a child
(or any of its descendants) changes. Note that a single `child_changed` event
may represent multiple changes to the child. The `DataSnapshot` passed to the
callback will contain the new child contents. For ordering purposes, the
callback is also passed a second argument which is a string containing the
key of the previous sibling child by sort order, or `null` if it is the first
child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallback?

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildChanged**(`query`, `callback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:504](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L504)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildChanged` event will be triggered when the data stored in a child
(or any of its descendants) changes. Note that a single `child_changed` event
may represent multiple changes to the child. The `DataSnapshot` passed to the
callback will contain the new child contents. For ordering purposes, the
callback is also passed a second argument which is a string containing the
key of the previous sibling child by sort order, or `null` if it is the first
child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildChanged**(`query`, `callback`, `cancelCallback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:538](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L538)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildChanged` event will be triggered when the data stored in a child
(or any of its descendants) changes. Note that a single `child_changed` event
may represent multiple changes to the child. The `DataSnapshot` passed to the
callback will contain the new child contents. For ordering purposes, the
callback is also passed a second argument which is a string containing the
key of the previous sibling child by sort order, or `null` if it is the first
child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallback

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildChanged**(`query`, `callback`, `cancelCallbackOrListenOptions?`, `options?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:545](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L545)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildChanged` event will be triggered when the data stored in a child
(or any of its descendants) changes. Note that a single `child_changed` event
may represent multiple changes to the child. The `DataSnapshot` passed to the
callback will contain the new child contents. For ordering purposes, the
callback is also passed a second argument which is a string containing the
key of the previous sibling child by sort order, or `null` if it is the first
child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallbackOrListenOptions?

[`ListenOptions`](#listenoptions) | (`error`) => `unknown`

###### options?

[`ListenOptions`](#listenoptions)

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

***

### onChildMoved()

#### Call Signature

> **onChildMoved**(`query`, `callback`, `cancelCallback?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:576](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L576)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildMoved` event will be triggered when a child's sort order changes
such that its position relative to its siblings changes. The `DataSnapshot`
passed to the callback will be for the data of the child that has moved. It
is also passed a second argument which is a string containing the key of the
previous sibling child by sort order, or `null` if it is the first child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallback?

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildMoved**(`query`, `callback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:603](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L603)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildMoved` event will be triggered when a child's sort order changes
such that its position relative to its siblings changes. The `DataSnapshot`
passed to the callback will be for the data of the child that has moved. It
is also passed a second argument which is a string containing the key of the
previous sibling child by sort order, or `null` if it is the first child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildMoved**(`query`, `callback`, `cancelCallback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:635](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L635)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildMoved` event will be triggered when a child's sort order changes
such that its position relative to its siblings changes. The `DataSnapshot`
passed to the callback will be for the data of the child that has moved. It
is also passed a second argument which is a string containing the key of the
previous sibling child by sort order, or `null` if it is the first child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallback

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildMoved**(`query`, `callback`, `cancelCallbackOrListenOptions?`, `options?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:642](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L642)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onChildMoved` event will be triggered when a child's sort order changes
such that its position relative to its siblings changes. The `DataSnapshot`
passed to the callback will be for the data of the child that has moved. It
is also passed a second argument which is a string containing the key of the
previous sibling child by sort order, or `null` if it is the first child.

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`, `previousChildName`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallbackOrListenOptions?

[`ListenOptions`](#listenoptions) | (`error`) => `unknown`

###### options?

[`ListenOptions`](#listenoptions)

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

***

### onChildRemoved()

#### Call Signature

> **onChildRemoved**(`query`, `callback`, `cancelCallback?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:679](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L679)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates. See
[Retrieve Data on the Web](https://firebase.google.com/docs/database/web/retrieve-data)
for more details.

An `onChildRemoved` event will be triggered once every time a child is
removed. The `DataSnapshot` passed into the callback will be the old data for
the child that was removed. A child will get removed when either:

- a client explicitly calls `remove()` on that child or one of its ancestors
- a client calls `set(null)` on that child or one of its ancestors
- that child has all of its children removed
- there is a query in effect which now filters out the child (because it's
  sort order changed or the max limit was hit)

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallback?

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildRemoved**(`query`, `callback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:712](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L712)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates. See
[Retrieve Data on the Web](https://firebase.google.com/docs/database/web/retrieve-data)
for more details.

An `onChildRemoved` event will be triggered once every time a child is
removed. The `DataSnapshot` passed into the callback will be the old data for
the child that was removed. A child will get removed when either:

- a client explicitly calls `remove()` on that child or one of its ancestors
- a client calls `set(null)` on that child or one of its ancestors
- that child has all of its children removed
- there is a query in effect which now filters out the child (because it's
  sort order changed or the max limit was hit)

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildRemoved**(`query`, `callback`, `cancelCallback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:750](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L750)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates. See
[Retrieve Data on the Web](https://firebase.google.com/docs/database/web/retrieve-data)
for more details.

An `onChildRemoved` event will be triggered once every time a child is
removed. The `DataSnapshot` passed into the callback will be the old data for
the child that was removed. A child will get removed when either:

- a client explicitly calls `remove()` on that child or one of its ancestors
- a client calls `set(null)` on that child or one of its ancestors
- that child has all of its children removed
- there is a query in effect which now filters out the child (because it's
  sort order changed or the max limit was hit)

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallback

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onChildRemoved**(`query`, `callback`, `cancelCallbackOrListenOptions?`, `options?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:757](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L757)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates. See
[Retrieve Data on the Web](https://firebase.google.com/docs/database/web/retrieve-data)
for more details.

An `onChildRemoved` event will be triggered once every time a child is
removed. The `DataSnapshot` passed into the callback will be the old data for
the child that was removed. A child will get removed when either:

- a client explicitly calls `remove()` on that child or one of its ancestors
- a client calls `set(null)` on that child or one of its ancestors
- that child has all of its children removed
- there is a query in effect which now filters out the child (because it's
  sort order changed or the max limit was hit)

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`) => `unknown`

A callback that fires when the specified event occurs.
The callback will be passed a DataSnapshot and a string containing the key of
the previous child, by sort order, or `null` if it is the first child.

###### cancelCallbackOrListenOptions?

[`ListenOptions`](#listenoptions) | (`error`) => `unknown`

###### options?

[`ListenOptions`](#listenoptions)

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

***

### onDisconnect()

> **onDisconnect**(`ref`): `OnDisconnect`

Defined in: [database/lib/modular/query.d.ts:878](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L878)

Returns an `OnDisconnect` object - see
[Enabling Offline Capabilities in JavaScript](https://firebase.google.com/docs/database/web/offline-capabilities)
for more information on how to use it.

#### Parameters

##### ref

`Reference`

The reference to add OnDisconnect triggers for.

#### Returns

`OnDisconnect`

***

### onValue()

#### Call Signature

> **onValue**(`query`, `callback`, `cancelCallback?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:276](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L276)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onValue` event will trigger once with the initial data stored at this
location, and then trigger again each time the data changes. The
`DataSnapshot` passed to the callback will be for the location at which
`on()` was called. It won't trigger until the entire contents has been
synchronized. If the location has no data, it will be triggered with an empty
`DataSnapshot` (`val()` will return `null`).

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`) => `unknown`

A callback that fires when the specified event occurs. The
callback will be passed a DataSnapshot.

###### cancelCallback?

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onValue**(`query`, `callback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:303](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L303)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onValue` event will trigger once with the initial data stored at this
location, and then trigger again each time the data changes. The
`DataSnapshot` passed to the callback will be for the location at which
`on()` was called. It won't trigger until the entire contents has been
synchronized. If the location has no data, it will be triggered with an empty
`DataSnapshot` (`val()` will return `null`).

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`) => `unknown`

A callback that fires when the specified event occurs. The
callback will be passed a DataSnapshot.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onValue**(`query`, `callback`, `cancelCallback`, `options`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:335](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L335)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onValue` event will trigger once with the initial data stored at this
location, and then trigger again each time the data changes. The
`DataSnapshot` passed to the callback will be for the location at which
`on()` was called. It won't trigger until the entire contents has been
synchronized. If the location has no data, it will be triggered with an empty
`DataSnapshot` (`val()` will return `null`).

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`) => `unknown`

A callback that fires when the specified event occurs. The
callback will be passed a DataSnapshot.

###### cancelCallback

(`error`) => `unknown`

An optional callback that will be notified if your
event subscription is ever canceled because your client does not have
permission to read this data (or it had permission but has now lost it).
This callback will be passed an `Error` object indicating why the failure
occurred.

###### options

[`ListenOptions`](#listenoptions)

An object that can be used to configure `onlyOnce`, which
then removes the listener after its first invocation.

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

#### Call Signature

> **onValue**(`query`, `callback`, `cancelCallbackOrListenOptions?`, `options?`): [`Unsubscribe`](#unsubscribe)

Defined in: [database/lib/modular/query.d.ts:342](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L342)

Listens for data changes at a particular location.

This is the primary way to read data from a Database. Your callback
will be triggered for the initial data and again whenever the data changes.
Invoke the returned unsubscribe callback to stop receiving updates.

An `onValue` event will trigger once with the initial data stored at this
location, and then trigger again each time the data changes. The
`DataSnapshot` passed to the callback will be for the location at which
`on()` was called. It won't trigger until the entire contents has been
synchronized. If the location has no data, it will be triggered with an empty
`DataSnapshot` (`val()` will return `null`).

##### Parameters

###### query

`Query`

The query to run.

###### callback

(`snapshot`) => `unknown`

A callback that fires when the specified event occurs. The
callback will be passed a DataSnapshot.

###### cancelCallbackOrListenOptions?

[`ListenOptions`](#listenoptions) | (`error`) => `unknown`

###### options?

[`ListenOptions`](#listenoptions)

##### Returns

[`Unsubscribe`](#unsubscribe)

A function that can be invoked to remove the listener.

***

### orderByChild()

> **orderByChild**(`path`): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:216](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L216)

Creates a new `QueryConstraint` that orders by the specified child key.

Queries can only order by one key at a time. Calling `orderByChild()`
multiple times on the same query is an error.

Firebase queries allow you to order your data by any child key on the fly.
However, if you know in advance what your indexes will be, you can define
them via the .indexOn rule in your Security Rules for better performance.

#### Parameters

##### path

`string`

The path to order by.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### orderByKey()

> **orderByKey**(): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:223](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L223)

Creates a new `QueryConstraint` that orders by the key.

Sorts the results of a query by their (ascending) key values.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### orderByPriority()

> **orderByPriority**(): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:231](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L231)

Creates a new `QueryConstraint` that orders by priority.

Applications need not use priority but can order collections by
ordinary properties

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### orderByValue()

> **orderByValue**(): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:239](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L239)

Creates a new `QueryConstraint` that orders by value.

If the children of a query are all scalar values (string, number, or
boolean), you can order the results by their (ascending) values.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### push()

> **push**(`parent`, `value?`): [`ThenableReference`](#thenablereference)

Defined in: [database/lib/modular/query.d.ts:919](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L919)

Generates a new child location using a unique key and returns its
`Reference`.

This is the most common pattern for adding data to a collection of items.

If you provide a value to `push()`, the value is written to the
generated location. If you don't pass a value, nothing is written to the
database and the child remains empty (but you can use the `Reference`
elsewhere).

The unique keys generated by `push()` are ordered by the current time, so the
resulting list of items is chronologically sorted. The keys are also
designed to be unguessable (they contain 72 random bits of entropy).

See [Append to a list of data](https://firebase.google.com/docs/database/web/lists-of-data#append_to_a_list_of_data).
See [The 2^120 Ways to Ensure Unique Identifiers](https://firebase.googleblog.com/2015/02/the-2120-ways-to-ensure-unique_68.html).

#### Parameters

##### parent

`Reference`

The parent location.

##### value?

`unknown`

Optional value to be written at the generated location.

#### Returns

[`ThenableReference`](#thenablereference)

Combined `Promise` and `Reference`; resolves when write is complete,
but can be used immediately as the `Reference` to the child location.

***

### query()

> **query**(`query`, ...`queryConstraints`): `Query`

Defined in: [database/lib/modular/query.d.ts:250](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L250)

Creates a new immutable instance of `Query` that is extended to also include
additional query constraints.

#### Parameters

##### query

`Query`

The Query instance to use as a base for the new constraints.

##### queryConstraints

...[`QueryConstraint`](#queryconstraint)[]

The list of `QueryConstraint`s to apply.

#### Returns

`Query`

#### Throws

if any of the provided query constraints cannot be combined with the
existing or new constraints.

***

### remove()

> **remove**(`ref`): `Promise`\<`void`\>

Defined in: [database/lib/modular/query.d.ts:935](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L935)

Removes the data at this Database location.

Any data at child locations will also be deleted.

The effect of the remove will be visible immediately and the corresponding
event 'value' will be triggered. Synchronization of the remove to the
Firebase servers will also be started, and the returned Promise will resolve
when complete. If provided, the onComplete callback will be called
asynchronously after synchronization has finished.

#### Parameters

##### ref

`Reference`

The location to remove.

#### Returns

`Promise`\<`void`\>

Resolves when remove on server is complete.

***

### set()

> **set**(`ref`, `value`): `Promise`\<`void`\>

Defined in: [database/lib/modular/query.d.ts:793](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L793)

Writes data to this Database location.

This will overwrite any data at this location and all child locations.

The effect of the write will be visible immediately, and the corresponding
events ("value", "child_added", etc.) will be triggered. Synchronization of
the data to the Firebase servers will also be started, and the returned
Promise will resolve when complete. If provided, the `onComplete` callback
will be called asynchronously after synchronization has finished.

Passing `null` for the new value is equivalent to calling `remove()`; namely,
all data at this location and all child locations will be deleted.

`set()` will remove any priority stored at this location, so if priority is
meant to be preserved, you need to use `setWithPriority()` instead.

Note that modifying data with `set()` will cancel any pending transactions
at that location, so extreme care should be taken if mixing `set()` and
`transaction()` to modify the same data.

A single `set()` will generate a single "value" event at the location where
the `set()` was performed.

#### Parameters

##### ref

`Reference`

The location to write to.

##### value

`unknown`

The value to be written (string, number, boolean, object,
  array, or null).

#### Returns

`Promise`\<`void`\>

Resolves when write to server is complete.

***

### setPriority()

> **setPriority**(`ref`, `priority`): `Promise`\<`void`\>

Defined in: [database/lib/modular/query.d.ts:805](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L805)

Sets a priority for the data at this Database location.

Applications need not use priority but can order collections by
ordinary properties

#### Parameters

##### ref

`Reference`

The location to write to.

##### priority

The priority to be written (string, number, or null).

`string` | `number` | `null`

#### Returns

`Promise`\<`void`\>

Resolves when write to server is complete.

***

### setWithPriority()

> **setWithPriority**(`ref`, `value`, `priority`): `Promise`\<`void`\>

Defined in: [database/lib/modular/query.d.ts:823](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L823)

Writes data the Database location. Like `set()` but also specifies the
priority for that data.

Applications need not use priority but can order collections by
ordinary properties

#### Parameters

##### ref

`Reference`

The location to write to.

##### value

`unknown`

The value to be written (string, number, boolean, object,
  array, or null).

##### priority

The priority to be written (string, number, or null).

`string` | `number` | `null`

#### Returns

`Promise`\<`void`\>

Resolves when write to server is complete.

***

### startAfter()

> **startAfter**(`value`, `key?`): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:168](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L168)

Creates a `QueryConstraint` with the specified starting point (exclusive).

Using `startAt()`, `startAfter()`, `endBefore()`, `endAt()` and `equalTo()`
allows you to choose arbitrary starting and ending points for your queries.

The starting point is exclusive. If only a value is provided, children
with a value greater than the specified value will be included in the query.
If a key is specified, then children must have a value greater than or equal
to the specified value and a a key name greater than the specified key.

#### Parameters

##### value

The value to start after. The argument type depends on which
`orderBy*()` function was used in this query. Specify a value that matches
the `orderBy*()` type. When used in combination with `orderByKey()`, the
value must be a string.

`string` | `number` | `boolean` | `null`

##### key?

`string`

The child key to start after. This argument is only allowed if
ordering by child, value, or priority.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### startAt()

> **startAt**(`value?`, `key?`): [`QueryConstraint`](#queryconstraint)

Defined in: [database/lib/modular/query.d.ts:145](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L145)

Creates a QueryConstraint with the specified starting point.

Using `startAt()`, `startAfter()`, `endBefore()`, `endAt()` and `equalTo()`
allows you to choose arbitrary starting and ending points for your queries.

The starting point is inclusive, so children with exactly the specified
value will be included in the query. The optional key argument can be used
to further limit the range of the query. If it is specified, then children
that have exactly the specified value must also have a key name greater than
or equal to the specified key.

#### Parameters

##### value?

The value to start at. The argument type depends on which
`orderBy*()` function was used in this query. Specify a value that matches
the `orderBy*()` type. When used in combination with `orderByKey()`, the
value must be a string.

`string` | `number` | `boolean` | `null`

##### key?

`string`

The child key to start at. This argument is only allowed if
ordering by child, value, or priority.

#### Returns

[`QueryConstraint`](#queryconstraint)

***

### update()

> **update**(`ref`, `values`): `Promise`\<`void`\>

Defined in: [database/lib/modular/query.d.ts:972](https://github.com/invertase/react-native-firebase/blob/main/packages/database/lib/modular/query.d.ts#L972)

Writes multiple values to the Database at once.

The `values` argument contains multiple property-value pairs that will be
written to the Database together. Each child property can either be a simple
property (for example, "name") or a relative path (for example,
"name/first") from the current location to the data to update.

As opposed to the `set()` method, `update()` can be use to selectively update
only the referenced properties at the current location (instead of replacing
all the child properties at the current location).

The effect of the write will be visible immediately, and the corresponding
events ('value', 'child_added', etc.) will be triggered. Synchronization of
the data to the Firebase servers will also be started, and the returned
Promise will resolve when complete. If provided, the `onComplete` callback
will be called asynchronously after synchronization has finished.

A single `update()` will generate a single "value" event at the location
where the `update()` was performed, regardless of how many children were
modified.

Note that modifying data with `update()` will cancel any pending
transactions at that location, so extreme care should be taken if mixing
`update()` and `transaction()` to modify the same data.

Passing `null` to `update()` will remove the data at this location.

See
[Introducing multi-location updates and more](https://firebase.googleblog.com/2015/09/introducing-multi-location-updates-and_86.html).

#### Parameters

##### ref

`Reference`

The location to write to.

##### values

`object`

Object containing multiple values.

#### Returns

`Promise`\<`void`\>

Resolves when update on server is complete.
