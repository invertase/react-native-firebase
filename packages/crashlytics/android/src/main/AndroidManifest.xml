<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="io.invertase.firebase.crashlytics">
  <application>
    <!-- Disable crashlytics by default so we can custom init with CrashlyticsNdk support -->
    <meta-data
      android:name="firebase_crashlytics_collection_enabled"
      android:value="false" />
    
    <!-- NDK crash reporting - disabled by default due to memory impact -->
    <!-- Example (in Firebase.json): {
        "react-native": {
          "crashlytics_ndk_enabled": true
        }
      }
    -->
    <meta-data
      android:name="firebase_crashlytics_ndk_enabled"
      android:value="${firebaseJsonCrashlyticsNdkEnabled}" />
    
    <!-- GWP-ASan mode - 'default', 'never', or 'always' -->
    <!-- Example (in Firebase.json): {
        "react-native": {
          "crashlytics_gwp_asan_mode": "default"
        }
      }
    -->
    <meta-data
      android:name="com.google.firebase.crashlytics.ndk.gwp_asan_mode"
      android:value="${firebaseJsonCrashlyticsGwpAsanMode}" />
    
    <provider
      android:name="io.invertase.firebase.crashlytics.ReactNativeFirebaseCrashlyticsInitProvider"
      android:authorities="${applicationId}.reactnativefirebasecrashlyticsinitprovider"
      android:exported="false"
      android:initOrder="98" /> <!-- Firebase = 100, ReactNativeFirebase = 99, runs after both (highest first) -->
  </application>
</manifest>
